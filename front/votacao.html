<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Votação - Urna Eletrônica</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <header>
        <h1>Urna Eletrônica - Grêmio Estudantil</h1>
        <nav>
            <a href="index.html">Início</a>
            <a href="chapas.html">Chapas</a>
            <a href="eleicoes.html">Eleições</a>
            <a href="votacao.html" class="active">Votação</a>
            <a href="relatorios.html">Relatórios</a>
        </nav>
    </header>
    <main>
        <div class="container">
            <h2>Votação</h2>
            <div class="votacao-section">
                <div id="eleicaoAtual" class="info-box">
                    <h3>Eleição em Andamento</h3>
                    <div id="eleicaoInfo"></div>
                </div>
                <div class="urna-container">
                    <div id="telaVotacao" class="hidden">
                        <h3>Selecione sua Chapa</h3>
                        <div id="listaChapas" class="chapas-grid"></div>
                        <div class="voto-branco-container">
                            <button onclick="votarEmBranco()" class="btn btn-secondary">
                                Votar em Branco
                            </button>
                        </div>
                    </div>
                    <div id="confirmacao" class="hidden">
                        <h3>Confirme seu Voto</h3>
                        <div id="dadosConfirmacao"></div>
                        <div class="botoes-confirmacao">
                            <button class="btn btn-secondary" onclick="corrigirVoto()">CORRIGIR</button>
                            <button class="btn btn-success" onclick="confirmarVoto()">CONFIRMAR</button>
                        </div>
                    </div>
                    <div id="fim" class="hidden">
                        <h3>FIM</h3>
                        <p>Seu voto foi registrado com sucesso!</p>
                    </div>
                </div>
            </div>
        </div>
    </main>
    <footer>
        <p>&copy; 2025 Urna Eletrônica - Grêmio Estudantil</p>
    </footer>
    <!-- Adicione isso no final do body, antes dos scripts -->
<button id="adminExit" class="admin-exit" title="Acesso administrativo">Admin</button>
<script>
    // Adicione este script para permitir que administradores saiam do modo votação
    document.getElementById('adminExit').addEventListener('mousedown', function() {
        // Inicia um temporizador quando o botão é pressionado
        this.pressTimer = window.setTimeout(() => {
            if (confirm('Deseja realmente sair do modo de votação? Esta ação é apenas para administradores.')) {
                // Restaura a navegação
                const nav = document.querySelector('header nav');
                if (nav) nav.style.display = '';
                document.body.classList.remove('modo-votacao');
            }
        }, 3000); // 3 segundos de pressão para ativar
        return false;
    });
    
    document.getElementById('adminExit').addEventListener('mouseup', function() {
        // Cancela o temporizador se o botão for solto antes do tempo
        clearTimeout(this.pressTimer);
        return false;
    });
</script>
    <script src="js/api.js"></script>
    <script src="js/votacao.js"></script>
</body>
</html>